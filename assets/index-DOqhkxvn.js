(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))y(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const h of n.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&y(h)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function y(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();const T={score:0,moveSpeed:0},L=new URL(""+new URL("../gem-placeholder.png",import.meta.url).href,import.meta.url).href;console.log(L);const _=document.querySelector(".game-power__light"),S=document.querySelector(".game-controls__tv--light"),l=document.querySelector(".game-display__player");let g=document.querySelectorAll(".game-display__gem");const b=document.querySelector(".game-display__objectives--score"),q=document.querySelector(".game-display__objectives--time"),I=document.querySelector(".game-display"),d=document.querySelector(".game-display__information--title"),m=document.querySelector(".game-display__information--restart-button"),A=document.querySelector(".game-controls"),v=document.querySelectorAll(".game-controls__arrows--arrow");if(!_||!S)throw new Error("Error with power display");if(!l||!g||!b||!q||!I||!d||!m)throw new Error("Error with game display elements");if(!A||!v)throw new Error("Error with game controls");let s,c,w,C=15,a=60,f,x,M,{score:u}=T;const P=()=>{N(),$(),x=setInterval(()=>{k(),G(),b.innerHTML=`Score: ${u}`},50)},$=()=>{f=setInterval(()=>{a>0&&(a-=1,q.innerHTML=`Time Remaining: ${a}`,console.log(a))},1e3),console.log("Time counter: "+f)},O=()=>{M=setInterval(()=>{const t=Math.floor(Math.random()*(screen.width-100)+0),e=Math.floor(Math.random()*400+45);let r=document.createElement("img");r.src=L,r.alt="gem",r.className="game-display__gem",r.id="gem1",r.style.left=`${t}px`,r.style.top=`${e}px`,I.append(r),g=document.querySelectorAll(".game-display__gem")},3e3)},k=()=>{const t=[l.x+l.width,l.y+l.height];g.forEach(e=>{const r=[e.x+e.width,e.y+e.height];l.x<r[0]&&t[0]>e.x&&l.y<r[1]&&t[1]>e.y&&(e.remove(),e.width=0,e.height=0,u+=1)})},G=()=>{u==C?E("score"):a==0&&E("time")},E=t=>{d.style.display="block",t==="score"?d.innerText="You Win":t==="time"&&(d.innerText="You Lose"),clearInterval(x),clearInterval(f),clearInterval(w),clearInterval(M),v.forEach(e=>{e.removeEventListener("mousedown",p),e.removeEventListener("mouseup",i),e.removeEventListener("mouseout",i),e.removeEventListener("touchstart",p),e.removeEventListener("touchend",i),e.removeEventListener("touchmove",i)}),m.style.display="block",m.innerText="Restart Game"},N=()=>{u=0,a=60,_.style.backgroundColor="#02FF62",S.style.backgroundColor="#ffffff",d.style.display="none",m.style.display="none",l.style.top="0",l.style.left="0",s=0,c=0,R(),document.querySelectorAll(".game-display__gem").forEach(t=>{t.remove(),u-=1}),O()},p=t=>{const r=t.target.id;w=setInterval(()=>{switch(r){case"up":{c>0&&(c=c-30);break}case"down":{c<500&&(c=c+30);break}case"left":{s>0&&(s=s-screen.width/20),s>screen.width&&(s=screen.width);break}case"right":{s<screen.width/4.95+screen.width&&(s=s+screen.width/20);break}}console.log("Screen width = "+screen.width+". Horizontal Movement = "+s);let y=`${c.toString()}px`;l.style.top=`${y}`;let o=`${s.toString()}px`;l.style.left=`${o}`},50)},i=()=>{clearInterval(w)},R=()=>{v.forEach(t=>{t.addEventListener("mousedown",p),t.addEventListener("mouseup",i),t.addEventListener("mouseout",i),t.addEventListener("touchstart",p),t.addEventListener("touchend",i),t.addEventListener("touchmove",i)})};m.addEventListener("click",P);
