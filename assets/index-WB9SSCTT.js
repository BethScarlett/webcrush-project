(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const f of n.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function s(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(e){if(e.ep)return;e.ep=!0;const n=s(e);fetch(e.href,n)}})();const x={score:0,moveSpeed:0},S=document.querySelector(".game-power__light"),r=document.querySelector(".game-display__player");let g=document.querySelectorAll(".game-display__gem");const _=document.querySelector(".game-display__objectives--score"),w=document.querySelector(".game-display__objectives--time"),b=document.querySelector(".game-display"),m=document.querySelector(".game-display__information--title"),u=document.querySelector(".game-display__information--restart-button"),I=document.querySelector(".game-controls"),v=document.querySelectorAll(".game-controls__arrows--arrow");if(!S)throw new Error("Error with power display");if(!r||!g||!_||!w||!b||!m||!u)throw new Error("Error with game display elements");if(!I||!v)throw new Error("Error with game controls");let l=Number(r.style.left),i=Number(r.style.top),E,M=4,d=60,h,q,{score:p,moveSpeed:T}=x;const A=()=>{C(),N(),q=setInterval(()=>{P(),$(),_.innerHTML=`Score: ${p}`},50)},N=()=>{h=setInterval(()=>{d>0&&(d-=1,w.innerHTML=`Time Remaining: ${d}`,console.log(d))},1e3),console.log("Time counter: "+h)},P=()=>{const o=[r.x+r.width,r.y+r.height];g.forEach(t=>{const s=[t.x+t.width,t.y+t.height];r.x<s[0]&&o[0]>t.x&&r.y<s[1]&&o[1]>t.y&&(t.remove(),t.width=0,t.height=0,p+=1)})},$=()=>{p==M?L("score"):d==0&&L("time")},L=o=>{m.style.display="block",o==="score"?m.innerText="You Win":o==="time"&&(m.innerText="You Lose"),clearInterval(q),clearInterval(h),clearInterval(E),v.forEach(t=>{t.removeEventListener("mousedown",y),t.removeEventListener("mouseup",c),t.removeEventListener("mouseout",c),t.removeEventListener("touchstart",y),t.removeEventListener("touchend",c),t.removeEventListener("touchmove",c)}),u.style.display="block",u.innerText="Restart Game"},C=()=>{p=0,d=61,S.style.backgroundColor="#02FF62",m.style.display="none",u.style.display="none",r.style.top="0",r.style.left="0",l=0,i=0,G(),O(3),console.log(T)},O=o=>{for(let t=0;t<o;t++){const s=Math.floor(Math.random()*(screen.width-50)+0),a=Math.floor(Math.random()*300+0);console.log(s);let e=document.createElement("img");e.src="./public/gem-placeholder.png",e.alt="gem",e.className="game-display__gem",e.id="gem1",e.style.left=`${s}px`,e.style.top=`${a}px`,b.append(e)}g=document.querySelectorAll(".game-display__gem")},y=o=>{const s=o.target.id;E=setInterval(()=>{switch(s){case"up":{i>0&&(i=i-30);break}case"down":{i<500&&(i=i+30);break}case"left":{l>0&&(l=l-30);break}case"right":{l<screen.width&&(l=l+30);break}}let a=`${i.toString()}px`;r.style.top=`${a}`;let e=`${l.toString()}px`;r.style.left=`${e}`},50)},c=()=>{clearInterval(E)},G=()=>{v.forEach(o=>{o.addEventListener("mousedown",y),o.addEventListener("mouseup",c),o.addEventListener("mouseout",c),o.addEventListener("touchstart",y),o.addEventListener("touchend",c),o.addEventListener("touchmove",c)})};u.addEventListener("click",A);
